(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[42],{385:function(e,t,a){"use strict";a(1);var n=a(561),c=a(296),i=a(306),r=a(89),o=a(37),s=a(67),l=a(68),d=a(413),b=a(0),u=Object(o.b)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode}}),null);t.a=u(Object(i.a)((function(e){return Object(c.a)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}}})}))((function(e){var t=e.classes,a=e.label,c=e.actions,i=e.sidebarOpen,o=e.operatorMode;return Object(b.jsxs)(n.a,{container:!0,className:"".concat(t.headerContainer," page-header"),direction:"row",alignItems:"center",children:[Object(b.jsx)(d.a,{display:{xs:"block",sm:"block",md:"none"},children:Object(b.jsx)(n.a,{item:!0,xs:12,style:{height:10},children:"\xa0"})}),Object(b.jsxs)(n.a,{item:!0,xs:12,sm:12,md:6,className:t.label,children:[!i&&Object(b.jsx)("div",{className:t.logo,children:o?Object(b.jsx)(s.a,{}):Object(b.jsx)(l.a,{})}),Object(b.jsx)(r.a,{variant:"h4",className:t.labelStyle,children:a})]}),c&&Object(b.jsx)(n.a,{item:!0,xs:12,sm:12,md:6,className:t.rightMenu,children:c})]})})))},387:function(e,t,a){"use strict";var n=a(2),c=a(1),i=a.n(c),r=a(894),o=a(561),s=a(895),l=a(378),d=a(376),b=a(296),u=a(367),j=a(306),m=a(118),O=a(120),g=a(0),h=Object(u.a)((function(e){return Object(b.a)(Object(n.a)({},m.k))}));function p(e){var t=h();return Object(g.jsx)(r.a,Object(n.a)({InputProps:{classes:t}},e))}t.a=Object(j.a)((function(e){return Object(b.a)(Object(n.a)(Object(n.a)(Object(n.a)({},m.g),m.A),{},{textBoxContainer:{flexGrow:1,position:"relative"},textBoxWithIcon:{position:"relative",paddingRight:25},errorState:{color:"#b53b4b",fontSize:14,position:"absolute",top:7,right:7},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}}}))}))((function(e){var t=e.label,a=e.onChange,c=e.value,r=e.id,b=e.name,u=e.type,j=void 0===u?"text":u,m=e.autoComplete,h=void 0===m?"off":m,f=e.disabled,x=void 0!==f&&f,v=e.multiline,C=void 0!==v&&v,y=e.tooltip,N=void 0===y?"":y,S=e.index,k=void 0===S?0:S,T=e.error,E=void 0===T?"":T,F=e.required,w=void 0!==F&&F,A=e.placeholder,B=void 0===A?"":A,z=e.min,R=e.max,M=e.overlayIcon,I=void 0===M?null:M,L=e.overlayObject,W=void 0===L?null:L,K=e.extraInputProps,P=void 0===K?{}:K,H=e.overlayAction,V=e.noLabelMinWidth,_=void 0!==V&&V,G=e.classes,q=Object(n.a)({"data-index":k},P);return"number"===j&&z&&(q.min=z),"number"===j&&R&&(q.max=R),Object(g.jsx)(i.a.Fragment,{children:Object(g.jsxs)(o.a,{container:!0,className:" ".concat(""!==E?G.errorInField:G.inputBoxContainer),children:[""!==t&&Object(g.jsxs)(s.a,{htmlFor:r,className:_?G.noMinWidthLabel:G.inputLabel,children:[Object(g.jsxs)("span",{children:[t,w?"*":""]}),""!==N&&Object(g.jsx)("div",{className:G.tooltipContainer,children:Object(g.jsx)(l.a,{title:N,placement:"top-start",children:Object(g.jsx)("div",{className:G.tooltip,children:Object(g.jsx)(O.a,{})})})})]}),Object(g.jsxs)("div",{className:G.textBoxContainer,children:[Object(g.jsx)(p,{id:r,name:b,fullWidth:!0,value:c,disabled:x,onChange:a,type:j,multiline:C,autoComplete:h,inputProps:q,error:""!==E,helperText:E,placeholder:B,className:G.inputRebase}),I&&Object(g.jsx)("div",{className:"".concat(G.overlayAction," ").concat(""!==t?"withLabel":""),children:Object(g.jsx)(d.a,{onClick:H?function(){H()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:I})}),W&&Object(g.jsx)("div",{className:"".concat(G.overlayAction," ").concat(""!==t?"withLabel":""),children:W})]})]})})}))},413:function(e,t,a){"use strict";var n=a(3),c=a(4),i=a(1),r=a(7),o=a(93),s=a(352),l=a(362),d=a(52),b=a(0),u=["className","component"];var j=a(292),m=a(200),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,a=e.defaultClassName,j=void 0===a?"MuiBox-root":a,m=e.generateClassName,O=e.styleFunctionSx,g=void 0===O?s.a:O,h=Object(o.a)("div")(g),p=i.forwardRef((function(e,a){var i=Object(d.a)(t),o=Object(l.a)(e),s=o.className,O=o.component,g=void 0===O?"div":O,p=Object(c.a)(o,u);return Object(b.jsx)(h,Object(n.a)({as:g,ref:a,className:Object(r.a)(s,m?m(j):j),theme:i},p))}));return p}({defaultTheme:Object(m.a)(),defaultClassName:"MuiBox-root",generateClassName:j.a.generate});t.a=O},496:function(e,t,a){"use strict";var n=a(1),c=a.n(n),i=a(89),r=a(296),o=a(306),s=a(0);t.a=Object(o.a)((function(e){var t;return Object(r.a)({errorBlock:{color:(null===(t=e.palette)||void 0===t?void 0:t.error.main)||"#C83B51"}})}))((function(e){var t=e.classes,a=e.errorMessage,n=e.withBreak,r=void 0===n||n;return Object(s.jsxs)(c.a.Fragment,{children:[r&&Object(s.jsx)("br",{}),Object(s.jsx)(i.a,{component:"p",variant:"body1",className:t.errorBlock,children:a})]})}))},539:function(e,t,a){"use strict";var n=a(14),c=a(2),i=a(1),r=a.n(i),o=a(43),s=a.n(o),l=a(561),d=a(895),b=a(378),u=a(376),j=a(558),m=a.n(j),O=a(557),g=a.n(O),h=a(296),p=a(306),f=a(118),x=a(120),v=a(496),C=a(0);t.a=Object(p.a)((function(e){return Object(h.a)(Object(c.a)(Object(c.a)(Object(c.a)({},f.g),f.A),{},{textBoxContainer:{flexGrow:1,position:"relative",display:"flex",flexWrap:"nowrap",height:48},errorState:{color:"#b53b4b",fontSize:14,position:"absolute",top:7,right:7},errorText:{margin:"0",fontSize:"0.75rem",marginTop:3,textAlign:"left",fontFamily:"Lato,sans-serif",fontWeight:400,lineHeight:"1.66",color:"#dc1f2e"},valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileReselect:{display:"flex",alignItems:"center",height:48},fieldBottom:{borderBottom:"#9c9c9c 1px solid"},fileInputField:{margin:"13px 0"}}))}))((function(e){var t=e.label,a=e.classes,c=e.onChange,o=e.id,j=e.name,O=e.disabled,h=void 0!==O&&O,p=e.tooltip,f=void 0===p?"":p,y=e.required,N=e.error,S=void 0===N?"":N,k=e.accept,T=void 0===k?"":k,E=e.value,F=void 0===E?"":E,w=Object(i.useState)(!1),A=Object(n.a)(w,2),B=A[0],z=A[1];return Object(C.jsx)(r.a.Fragment,{children:Object(C.jsxs)(l.a,{item:!0,xs:12,className:"".concat(a.fieldBottom," ").concat(a.fieldContainer," ").concat(""!==S?a.errorInField:""),children:[""!==t&&Object(C.jsxs)(d.a,{htmlFor:o,className:"".concat(""!==S?a.fieldLabelError:""," ").concat(a.inputLabel),children:[Object(C.jsxs)("span",{children:[t,y?"*":""]}),""!==f&&Object(C.jsx)("div",{className:a.tooltipContainer,children:Object(C.jsx)(b.a,{title:f,placement:"top-start",children:Object(C.jsx)("div",{className:a.tooltip,children:Object(C.jsx)(x.a,{})})})})]}),B||""===F?Object(C.jsxs)("div",{className:a.textBoxContainer,children:[Object(C.jsx)("input",{type:"file",name:j,onChange:function(e){var t=s()(e,"target.files[0].name","");!function(e,t){var a=e.target.files[0],n=new FileReader;n.readAsDataURL(a),n.onload=function(){var e=n.result;if(e){var a=e.toString().split("base64,");2===a.length&&t(a[1])}}}(e,(function(e){c(e,t)}))},accept:T,required:y,disabled:h,className:a.fileInputField}),""!==F&&Object(C.jsx)(u.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){z(!1)},disableRipple:!1,disableFocusRipple:!1,size:"large",children:Object(C.jsx)(g.a,{})}),""!==S&&Object(C.jsx)(v.a,{errorMessage:S})]}):Object(C.jsxs)("div",{className:a.fileReselect,children:[Object(C.jsx)("div",{className:a.valueString,children:F}),Object(C.jsx)(u.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){z(!0)},disableRipple:!1,disableFocusRipple:!1,size:"large",children:Object(C.jsx)(m.a,{})})]})]})})}))},557:function(e,t,a){"use strict";var n=a(64);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(66)),i=a(0),r=(0,c.default)((0,i.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=r},558:function(e,t,a){"use strict";var n=a(64);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(66)),i=a(0),r=(0,c.default)((0,i.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");t.default=r},702:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return o}));var n="minio",c="gcs",i="s3",r="azure",o=[{serviceName:n,targetTitle:"MinIO",logo:"/minio-logo.svg"},{serviceName:c,targetTitle:"Google Cloud Storage",logo:"/gcs-logo.svg"},{serviceName:i,targetTitle:"AWS S3",logo:"/aws-logo.svg"},{serviceName:r,targetTitle:"Azure",logo:"/azure-logo.svg"}]},876:function(e,t,a){"use strict";a.r(t);var n=a(14),c=a(2),i=a(1),r=a(37),o=a(43),s=a.n(o),l=a(561),d=a(296),b=a(306),u=a(373),j=a(29),m=a(118),O=a(47),g=a(387),h=a(539),p=a(156),f=a(385),x=a(702),v=a(0),C={setErrorSnackMessage:j.e},y=Object(r.b)(null,C);t.default=Object(b.a)((function(e){return Object(d.a)(Object(c.a)(Object(c.a)(Object(c.a)({},m.m),m.u),{},{strongText:{fontWeight:700},keyName:{marginLeft:5},buttonContainer:{textAlign:"right"},customTitle:Object(c.a)(Object(c.a)({},m.u.customTitle),{},{marginTop:0}),settingsFormContainer:Object(c.a)(Object(c.a)({},m.u.settingsFormContainer),{},{height:"calc(100vh - 422px)"}),lambdaNotif:{background:"linear-gradient(90deg, rgba(249,249,250,1) 0%, rgba(250,250,251,1) 68%, rgba(254,254,254,1) 100%)",border:"#E5E5E5 1px solid",borderRadius:5,height:80,display:"flex",alignItems:"center",justifyContent:"start",marginBottom:16,marginRight:8,cursor:"pointer",padding:0,overflow:"hidden"},lambdaNotifIcon:{backgroundColor:"#FEFEFE",display:"flex",alignItems:"center",justifyContent:"center",width:80,height:80,"& img":{maxWidth:46,maxHeight:46}},lambdaNotifTitle:{color:"#07193E",fontSize:16,fontFamily:"Lato,sans-serif",paddingLeft:18},mainCont:{maxWidth:1180,paddingLeft:38,paddingRight:38},backTo:{margin:"20px 0px 0"}}))}))(y((function(e){var t=e.classes,a=e.setErrorSnackMessage,r=e.match,o=e.history,d=Object(i.useState)(!1),b=Object(n.a)(d,2),j=b[0],m=b[1],C=Object(i.useState)(""),y=Object(n.a)(C,2),N=y[0],S=y[1],k=Object(i.useState)(""),T=Object(n.a)(k,2),E=T[0],F=T[1],w=Object(i.useState)(""),A=Object(n.a)(w,2),B=A[0],z=A[1],R=Object(i.useState)(""),M=Object(n.a)(R,2),I=M[0],L=M[1],W=Object(i.useState)(""),K=Object(n.a)(W,2),P=K[0],H=K[1],V=Object(i.useState)(""),_=Object(n.a)(V,2),G=_[0],q=_[1],D=Object(i.useState)(""),J=Object(n.a)(D,2),U=J[0],Z=J[1],$=Object(i.useState)(""),Q=Object(n.a)($,2),X=Q[0],Y=Q[1],ee=Object(i.useState)(""),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],ce=Object(i.useState)(""),ie=Object(n.a)(ce,2),re=ie[0],oe=ie[1],se=Object(i.useState)(""),le=Object(n.a)(se,2),de=le[0],be=le[1],ue=Object(i.useState)(""),je=Object(n.a)(ue,2),me=je[0],Oe=je[1],ge=Object(i.useState)(""),he=Object(n.a)(ge,2),pe=he[0],fe=he[1],xe=s()(r,"params.service","s3"),ve=Object(i.useState)(!0),Ce=Object(n.a)(ve,2),ye=Ce[0],Ne=Ce[1],Se=Object(i.useState)(""),ke=Object(n.a)(Se,2),Te=ke[0],Ee=ke[1],Fe=Object(i.useCallback)((function(){return/^[A-Z0-9-_]+$/.test(N)?(Ee(""),!0):(Ee("Please verify that string is uppercase only and contains valid characters (numbers, dashes & underscores)."),!1)}),[N]);Object(i.useEffect)((function(){if(j){var e={},t={name:N,endpoint:E,bucket:B,prefix:I,region:P},n=xe;switch("minio"===xe&&(n="s3"),xe){case"minio":case"s3":e={s3:Object(c.a)(Object(c.a)({},t),{},{accesskey:U,secretkey:X,storageclass:G})};break;case"gcs":e={gcs:Object(c.a)(Object(c.a)({},t),{},{creds:re})};break;case"azure":e={azure:Object(c.a)(Object(c.a)({},t),{},{accountname:de,accountkey:me})}}var i=Object(c.a)({type:n},e);O.a.invoke("POST","/api/v1/admin/tiers",i).then((function(){m(!1),o.push("/tiers")})).catch((function(e){m(!1),a(e)}))}}),[U,me,de,B,re,E,o,N,I,P,j,X,a,G,xe]),Object(i.useEffect)((function(){var e=!0;""===xe&&(e=!1),""!==N&&Fe()||(e=!1),""===E&&(e=!1),""===B&&(e=!1),""===I&&(e=!1),""===P&&(e=!1),"s3"!==xe&&"minio"!==xe||(""===U&&(e=!1),""===X&&(e=!1)),"gcs"===xe&&""===re&&(e=!1),"azure"===xe&&(""===de&&(e=!1),""===me&&(e=!1)),Ne(e)}),[U,me,de,B,re,E,ye,N,I,P,X,G,xe,Fe]),Object(i.useEffect)((function(){switch(xe){case"gcs":F("https://storage.googleapis.com/"),fe("Google Cloud");break;case"s3":F("https://s3.amazonaws.com"),fe("Amazon S3");break;case"azure":F("http://blob.core.windows.net"),fe("Azure");break;case"minio":F(""),fe("MinIO")}}),[xe]);var we=x.e.find((function(e){return e.serviceName===xe}));return Object(v.jsxs)(i.Fragment,{children:[Object(v.jsx)(f.a,{label:"Tiers"}),Object(v.jsxs)(l.a,{container:!0,className:t.mainCont,children:[Object(v.jsx)(l.a,{item:!0,xs:12,className:t.backTo,children:Object(v.jsxs)("button",{onClick:function(){o.push("/tiers/add")},className:t.backButton,children:[Object(v.jsx)(p.a,{}),"Back To Tier Type Selection"]})}),""!==xe&&Object(v.jsx)(i.Fragment,{children:Object(v.jsx)(l.a,{item:!0,xs:12,children:we&&Object(v.jsxs)("div",{className:t.lambdaNotif,children:[Object(v.jsx)("div",{className:t.lambdaNotifIcon,children:Object(v.jsx)("img",{src:we.logo,className:t.logoButton,alt:we.targetTitle})}),Object(v.jsx)("div",{className:t.lambdaNotifTitle,children:Object(v.jsxs)("b",{children:[pe||""," Tier Configuration"]})})]},"icon-".concat(we.targetTitle))})}),Object(v.jsx)(l.a,{item:!0,xs:12,children:Object(v.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),m(!0)},children:[Object(v.jsx)(l.a,{item:!0,xs:12,children:Object(v.jsx)(l.a,{container:!0,children:""!==xe&&Object(v.jsxs)(i.Fragment,{children:[Object(v.jsx)(g.a,{id:"name",name:"name",label:"Name",placeholder:"Enter Name (Eg. REMOTE-TIER)",value:N,onChange:function(e){S(e.target.value.toUpperCase())},error:Te}),Object(v.jsx)(g.a,{id:"endpoint",name:"endpoint",label:"Endpoint",placeholder:"Enter Endpoint",value:E,onChange:function(e){F(e.target.value)}}),(xe===x.d||xe===x.c)&&Object(v.jsxs)(i.Fragment,{children:[Object(v.jsx)(g.a,{id:"accessKey",name:"accessKey",label:"Access Key",placeholder:"Enter Access Key",value:U,onChange:function(e){Z(e.target.value)}}),Object(v.jsx)(g.a,{id:"secretKey",name:"secretKey",label:"Secret Key",placeholder:"Enter Secret Key",value:X,onChange:function(e){Y(e.target.value)}})]}),xe===x.b&&Object(v.jsx)(i.Fragment,{children:Object(v.jsx)(h.a,{accept:".json",id:"creds",label:"Credentials",name:"creds",onChange:function(e,t){oe(e),ne(t)},value:ae})}),xe===x.a&&Object(v.jsxs)(i.Fragment,{children:[Object(v.jsx)(g.a,{id:"accountName",name:"accountName",label:"Account Name",placeholder:"Enter Account Name",value:de,onChange:function(e){be(e.target.value)}}),Object(v.jsx)(g.a,{id:"accountKey",name:"accountKey",label:"Account Key",placeholder:"Enter Account Key",value:me,onChange:function(e){Oe(e.target.value)}})]}),Object(v.jsx)(g.a,{id:"bucket",name:"bucket",label:"Bucket",placeholder:"Enter Bucket",value:B,onChange:function(e){z(e.target.value)}}),Object(v.jsx)(g.a,{id:"prefix",name:"prefix",label:"Prefix",placeholder:"Enter Prefix",value:I,onChange:function(e){L(e.target.value)}}),Object(v.jsx)(g.a,{id:"region",name:"region",label:"Region",placeholder:"Enter Region",value:P,onChange:function(e){H(e.target.value)}}),xe===x.d||xe===x.c&&Object(v.jsx)(g.a,{id:"storageClass",name:"storageClass",label:"Storage Class",placeholder:"Enter Storage Class",value:G,onChange:function(e){q(e.target.value)}})]})})}),Object(v.jsx)(l.a,{item:!0,xs:12,className:t.settingsButtonContainer,children:Object(v.jsx)(u.a,{type:"submit",variant:"contained",color:"primary",disabled:j||!ye,children:"Save"})})]})})]})]})})))}}]);
//# sourceMappingURL=42.cc15a638.chunk.js.map