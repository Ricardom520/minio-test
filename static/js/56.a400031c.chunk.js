(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[56],{456:function(e,t,a){"use strict";var n=a(5),r=a(4),i=a(3),o=a(1),c=a(7),s=a(87),l=a(10),d=a(89),b=a(425),m=a(400),j=a(8),u=a(63),h=a(88);function g(e){return Object(u.a)("MuiInputAdornment",e)}var p,v=Object(h.a)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),x=a(12),f=a(0),O=["children","className","component","disablePointerEvents","disableTypography","position","variant"],S=Object(j.a)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t["position".concat(Object(l.a)(a.position))],!0===a.disablePointerEvents&&t.disablePointerEvents,t[a.variant]]}})((function(e){var t=e.theme,a=e.ownerState;return Object(i.a)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===a.variant&&Object(n.a)({},"&.".concat(v.positionStart,"&:not(.").concat(v.hiddenLabel,")"),{marginTop:16}),"start"===a.position&&{marginRight:8},"end"===a.position&&{marginLeft:8},!0===a.disablePointerEvents&&{pointerEvents:"none"})})),y=o.forwardRef((function(e,t){var a=Object(x.a)({props:e,name:"MuiInputAdornment"}),n=a.children,j=a.className,u=a.component,h=void 0===u?"div":u,v=a.disablePointerEvents,y=void 0!==v&&v,w=a.disableTypography,k=void 0!==w&&w,N=a.position,I=a.variant,C=Object(r.a)(a,O),P=Object(m.a)()||{},L=I;I&&P.variant,P&&!L&&(L=P.variant);var A=Object(i.a)({},a,{hiddenLabel:P.hiddenLabel,size:P.size,disablePointerEvents:y,position:N,variant:L}),E=function(e){var t=e.classes,a=e.disablePointerEvents,n=e.hiddenLabel,r=e.position,i=e.size,o=e.variant,c={root:["root",a&&"disablePointerEvents",r&&"position".concat(Object(l.a)(r)),o,n&&"hiddenLabel",i&&"size".concat(Object(l.a)(i))]};return Object(s.a)(c,g,t)}(A);return Object(f.jsx)(b.a.Provider,{value:null,children:Object(f.jsx)(S,Object(i.a)({as:h,ownerState:A,className:Object(c.a)(E.root,j),ref:t},C,{children:"string"!==typeof n||k?Object(f.jsxs)(o.Fragment,{children:["start"===N?p||(p=Object(f.jsx)("span",{className:"notranslate",children:"\u200b"})):null,n]}):Object(f.jsx)(d.a,{color:"text.secondary",children:n})}))})}));t.a=y},537:function(e,t,a){"use strict";var n=a(34),r=a(4),i=a(3),o=a(1),c=a(7),s=a(87),l=a(30),d=a(10),b=a(12),m=a(8),j=a(63),u=a(88);function h(e){return Object(j.a)("MuiCircularProgress",e)}Object(u.a)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var g,p,v,x,f,O,S,y,w=a(0),k=["className","color","disableShrink","size","style","thickness","value","variant"],N=44,I=Object(l.c)(f||(f=g||(g=Object(n.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),C=Object(l.c)(O||(O=p||(p=Object(n.a)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),P=Object(m.a)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],t["color".concat(Object(d.a)(a.color))]]}})((function(e){var t=e.ownerState,a=e.theme;return Object(i.a)({display:"inline-block"},"determinate"===t.variant&&{transition:a.transitions.create("transform")},"inherit"!==t.color&&{color:(a.vars||a).palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Object(l.b)(S||(S=v||(v=Object(n.a)(["\n      animation: "," 1.4s linear infinite;\n    "]))),I)})),L=Object(m.a)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),A=Object(m.a)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var a=e.ownerState;return[t.circle,t["circle".concat(Object(d.a)(a.variant))],a.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,a=e.theme;return Object(i.a)({stroke:"currentColor"},"determinate"===t.variant&&{transition:a.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Object(l.b)(y||(y=x||(x=Object(n.a)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),C)})),E=o.forwardRef((function(e,t){var a=Object(b.a)({props:e,name:"MuiCircularProgress"}),n=a.className,o=a.color,l=void 0===o?"primary":o,m=a.disableShrink,j=void 0!==m&&m,u=a.size,g=void 0===u?40:u,p=a.style,v=a.thickness,x=void 0===v?3.6:v,f=a.value,O=void 0===f?0:f,S=a.variant,y=void 0===S?"indeterminate":S,I=Object(r.a)(a,k),C=Object(i.a)({},a,{color:l,disableShrink:j,size:g,thickness:x,value:O,variant:y}),E=function(e){var t=e.classes,a=e.variant,n=e.color,r=e.disableShrink,i={root:["root",a,"color".concat(Object(d.a)(n))],svg:["svg"],circle:["circle","circle".concat(Object(d.a)(a)),r&&"circleDisableShrink"]};return Object(s.a)(i,h,t)}(C),F={},M={},z={};if("determinate"===y){var T=2*Math.PI*((N-x)/2);F.strokeDasharray=T.toFixed(3),z["aria-valuenow"]=Math.round(O),F.strokeDashoffset="".concat(((100-O)/100*T).toFixed(3),"px"),M.transform="rotate(-90deg)"}return Object(w.jsx)(P,Object(i.a)({className:Object(c.a)(E.root,n),style:Object(i.a)({width:g,height:g},M,p),ownerState:C,ref:t,role:"progressbar"},z,I,{children:Object(w.jsx)(L,{className:E.svg,ownerState:C,viewBox:"".concat(22," ").concat(22," ").concat(N," ").concat(N),children:Object(w.jsx)(A,{className:E.circle,style:F,ownerState:C,cx:N,cy:N,r:(N-x)/2,fill:"none",strokeWidth:x})})}))}));t.a=E},899:function(e,t,a){"use strict";a.r(t);var n,r=a(14),i=a(2),o=a(1),c=a.n(o),s=a(37),l=a(456),d=a(364),b=a(537),m=a(374),j=a(296),u=a(367),h=a(306),g=a(373),p=a(894),v=a(561),x=a(89);!function(e){e.unknown="unknown",e.form="form",e.redirect="redirect",e.serviceAccount="service-account"}(n||(n={}));var f=a(29),O=a(47),S=a(48),y=a(132),w=a(181),k=a(51),N=a(119),I=a(0),C=Object(u.a)((function(e){return Object(j.a)({disabled:{"&.MuiInput-underline::before":{borderColor:"#eaeaea",borderBottomStyle:"solid"}}})}));function P(e){var t=C();return Object(I.jsx)(p.a,Object(i.a)({InputProps:{classes:t},variant:"standard"},e))}var L=Object(s.b)((function(e){return{loggedIn:e.loggedIn}}),{userLoggedIn:f.l,setErrorSnackMessage:f.e});t.default=L(Object(h.a)((function(e){return Object(j.a)({avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%"},submit:{margin:"30px 0px 16px",height:40,boxShadow:"none",padding:"16px 30px"},errorBlock:{backgroundColor:"#C72C48",width:800,height:64,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:9,left:"50%",top:"50%",color:"#fff",fontWeight:700,fontSize:14,borderRadius:8,padding:10,boxSizing:"border-box"},loginPage:{height:"100%",display:"flex",flexFlow:"column",alignItems:"stretch",position:"relative",padding:84,"@media (max-width: 900px)":{padding:0}},shadowBox:{boxShadow:"0px 3px 10px #00000014",height:"100%"},loginContainer:{flex:1,height:"100%","& .right-items":{padding:50,flex:1,height:"100%",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center",maxWidth:"33%","@media (max-width: 900px)":{maxWidth:"100%",margin:"auto"}},"& .consoleTextBanner":{fontWeight:300,fontSize:"calc(3vw + 3vh + 1.5vmin)",lineHeight:1.15,color:"#ffffff",flex:1,textAlign:"center",height:"100%",display:"flex",justifyContent:"flex-start",margin:"auto",flexFlow:"column",background:"linear-gradient(120deg,#081c42,#073052)","& .logoLine":{display:"flex",alignItems:"center",fontSize:18,marginTop:40},"& .left-items":{margin:"auto",textAlign:"left"}}},"@media (max-width: 900px)":{loginContainer:{display:"flex",flexFlow:"column","& .consoleTextBanner":{margin:0,flex:2,"& .left-items":{alignItems:"center",textAlign:"center"},"& .logoLine":{justifyContent:"center"}}}},inputField:{"& input":{padding:5,"&::placeholder":{fontSize:12},"@media (max-width: 900px)":{padding:10}},"& svg":{height:16}},loadingLoginStrategy:{textAlign:"center"},headerTitle:{marginRight:"auto",marginBottom:15},submitContainer:{textAlign:"right"},disclaimer:{fontSize:12,marginTop:30},jwtInput:{marginTop:45},linearPredef:{height:10},errorIconStyle:{marginRight:3},loaderAlignment:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column"},retryButton:{alignSelf:"flex-end"}})}))((function(e){var t=e.classes,a=e.userLoggedIn,i=e.setErrorSnackMessage,s=Object(o.useState)(""),j=Object(r.a)(s,2),u=j[0],h=j[1],p=Object(o.useState)(""),f=Object(r.a)(p,2),C=f[0],L=f[1],A=Object(o.useState)(""),E=Object(r.a)(A,2),F=E[0],M=E[1],z=Object(o.useState)({loginStrategy:n.unknown,redirect:""}),T=Object(r.a)(z,2),R=T[0],B=T[1],D=Object(o.useState)(!1),W=Object(r.a)(D,2),K=W[0],J=W[1],H=Object(o.useState)(!0),V=Object(r.a)(H,2),q=V[0],G=V[1],U={form:"/reporter/minioServer/api/v1/login","service-account":"/reporter/minioServer/api/v1/login/operator"},Q={form:{accessKey:u,secretKey:F},"service-account":{jwt:C}},X=function(e){e.preventDefault(),J(!0),O.a.invoke("POST",U[R.loginStrategy]||"/reporter/minioServer/api/v1/login",Q[R.loginStrategy]).then((function(){a(!0),R.loginStrategy===n.form&&localStorage.setItem("userLoggedIn",Object(k.e)(u));var e="/";localStorage.getItem("redirect-path")&&""!==localStorage.getItem("redirect-path")&&(e="".concat(localStorage.getItem("redirect-path")),localStorage.setItem("redirect-path","")),S.a.push(e)})).catch((function(e){J(!1),i(e)}))};Object(o.useEffect)((function(){q&&O.a.invoke("GET","/reporter/minioServer/api/v1/login").then((function(e){B(e),G(!1)})).catch((function(e){i(e),G(!1)}))}),[q,i]);var Y=null;switch(R.loginStrategy){case n.form:Y=Object(I.jsxs)(c.a.Fragment,{children:[Object(I.jsx)(x.a,{component:"h1",variant:"h6",className:t.headerTitle,children:"Console Login"}),Object(I.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:X,children:[Object(I.jsxs)(v.a,{container:!0,spacing:2,children:[Object(I.jsx)(v.a,{item:!0,xs:12,children:Object(I.jsx)(P,{fullWidth:!0,id:"accessKey",className:t.inputField,value:u,onChange:function(e){return h(e.target.value)},placeholder:"Enter Username",name:"accessKey",autoComplete:"username",disabled:K,variant:"outlined",InputProps:{startAdornment:Object(I.jsx)(l.a,{position:"start",children:Object(I.jsx)(N.Ob,{})})}})}),Object(I.jsx)(v.a,{item:!0,xs:12,children:Object(I.jsx)(P,{fullWidth:!0,className:t.inputField,value:F,onChange:function(e){return M(e.target.value)},name:"secretKey",type:"password",id:"secretKey",autoComplete:"current-password",disabled:K,placeholder:"Enter Password",variant:"outlined",InputProps:{startAdornment:Object(I.jsx)(l.a,{position:"start",children:Object(I.jsx)(N.cb,{})})}})})]}),Object(I.jsx)(v.a,{item:!0,xs:12,className:t.submitContainer,children:Object(I.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",className:t.submit,disabled:""===F||""===u||K,children:"Login"})}),Object(I.jsx)(v.a,{item:!0,xs:12,className:t.linearPredef,children:K&&Object(I.jsx)(d.a,{})})]})]});break;case n.redirect:Y=Object(I.jsx)(c.a.Fragment,{children:Object(I.jsx)(g.a,{component:"a",href:R.redirect,type:"submit",variant:"contained",color:"primary",className:t.submit,children:"Login with SSO"})});break;case n.serviceAccount:Y=Object(I.jsxs)(c.a.Fragment,{children:[Object(I.jsx)(x.a,{component:"h1",variant:"h6",className:t.headerTitle,children:"Operator Login"}),Object(I.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:X,children:[Object(I.jsx)(v.a,{container:!0,spacing:2,children:Object(I.jsx)(v.a,{item:!0,xs:12,className:t.jwtInput,children:Object(I.jsx)(P,{required:!0,className:t.inputField,fullWidth:!0,id:"jwt",value:C,onChange:function(e){return L(e.target.value)},name:"jwt",autoComplete:"off",disabled:K,placeholder:"Enter JWT",variant:"outlined",InputProps:{startAdornment:Object(I.jsx)(l.a,{position:"start",children:Object(I.jsx)(N.cb,{})})}})})}),Object(I.jsx)(v.a,{item:!0,xs:12,className:t.submitContainer,children:Object(I.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",className:t.submit,disabled:""===C||K,children:"Login"})}),Object(I.jsx)(v.a,{item:!0,xs:12,className:t.linearPredef,children:K&&Object(I.jsx)(d.a,{})})]})]});break;default:Y=Object(I.jsx)("div",{className:t.loaderAlignment,children:q?Object(I.jsx)(b.a,{className:t.loadingLoginStrategy}):Object(I.jsxs)(c.a.Fragment,{children:[Object(I.jsx)("div",{children:Object(I.jsx)("p",{children:"An error has occurred, the backend cannot be reached."})}),Object(I.jsx)("div",{children:Object(I.jsx)(g.a,{onClick:function(){G(!0)},endIcon:Object(I.jsx)(y.a,{}),color:"primary",variant:"outlined",className:t.retryButton,children:"Retry"})})]})})}var Z=R.loginStrategy===n.serviceAccount?"Operator":"Console";return Object(I.jsx)(c.a.Fragment,{children:Object(I.jsxs)(m.a,{className:t.loginPage,children:[Object(I.jsx)(w.a,{}),Object(I.jsx)("div",{className:t.shadowBox,children:Object(I.jsxs)(v.a,{container:!0,className:t.loginContainer,children:[Object(I.jsx)(v.a,{item:!0,className:"consoleTextBanner",children:Object(I.jsxs)("div",{className:"left-items",children:[Object(I.jsx)("div",{className:"text-line1",children:"Welcome to"}),Object(I.jsx)("div",{className:"text-line2",children:Z}),Object(I.jsxs)("div",{className:"logoLine",children:[Object(I.jsx)(N.Pb,{})," MinIO ",Z]})]})}),Object(I.jsx)(v.a,{item:!0,className:"right-items",children:Y})]})})]})})})))}}]);
//# sourceMappingURL=56.a400031c.chunk.js.map